<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Building Websites With Jekyll and GitHub: Loops and Collections</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="manifest" href="../site.webmanifest"><link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><abbr class="icon" title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team." style="text-decoration: unset">
           
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#polishing-beta-stage" class="external-link alert-link" style="color: #383838">Beta
            <i aria-hidden="true" class="icon" data-feather="alert-circle" style="color: #001483; border-radius: 5px"></i>
          </a>
          <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container ">
      
      <div class="beta-alert alert alert-light alert-dismissable fade show" role="alert">
        
        
        
        <i aria-hidden="true" class="icon" data-feather="alert-circle" style="color: #5bbad5"></i>
        
        Workbench Beta | 
        <a href="https://carpentries.typeform.com/to/KRBl4IZM" class="external-link alert-link" style="text-decoration: wavy overline">Give Feedback</a> | 
        <a href="https://carpentries.github.io/workbench/beta-phase.html" class="external-link alert-link">Learn More</a>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../arrays.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Building Websites With Jekyll and GitHub
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Building Websites With Jekyll and GitHub
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Building Websites With Jekyll and GitHub
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 79%" class="percentage">
    79%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 79%" aria-valuenow="79" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../arrays.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="markdown.html">2. Authoring With Markdown</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="github-pages.html">3. Hosting Websites on GitHub</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="starting-jekyll.html">4. Starting With Jekyll</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="includes.html">5. Reusing Blocks of Content</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="layouts.html">6. Page Layouts</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="filters.html">7. Working With Filters</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        Loops and Collections
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#list-parameters-and-for-loops">List Parameters and For Loops</a></li>
<li><a href="#filtering-a-list">Filtering a List</a></li>
<li><a href="#assigning-variables-within-a-page">Assigning Variables Within a Page</a></li>
<li><a href="#introducing-collections">Introducing Collections</a></li>
<li><a href="#configuring-a-collection">Configuring a Collection</a></li>
<li><a href="#looping-over-a-collection">Looping Over a Collection</a></li>
<li><a href="#blogging-in-the-wild-the-_posts-collection">Blogging in the Wild: the <code>_posts</code> Collection</a></li>
<li><a href="#linking-to-other-pages-on-your-site">Linking to Other Pages on Your Site</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="wrap-up.html">9. Wrap-up</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="../instructor/aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/filters.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/wrap-up.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/filters.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Working With Filters</a>
        <a class="chapter-link float-end" href="../instructor/wrap-up.html" rel="next">Next: Wrap-up... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Loops and Collections</h1>
        <p> Last updated on 2022-11-15 | 
        
        <a href="https://github.com/fishtree-attempt/jekyll-pages-novice/edit/main/episodes/arrays.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <p>Estimated time <i aria-hidden="true" data-feather="clock"></i> 80 minutes </p>
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I work with variables containing multiple values in
Jekyll?</li>
<li>How do I add a list of blog posts to my site?</li>
<li>How do I filter a list of values?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Define list and dictionary variables and extract values from those
variables.</li>
<li>Configure a collection of pages within a site.</li>
<li>Create and automatically populate a list of pages in that
collection.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>Now we have learned how to substitute and format values stored in
variables into pages on our site, how to include and re-use entire
blocks of content, and how to specify the layout of our different pages.
One thing we are still missing is how to automatically generate lists of
pages and other values: for a blog site it is usually desirable to
include a list of the most recent posts to the blog, and an archive of
all historic posts; for a group website, we may wish to do something
similar with research projects or profile pages for individual team
members.</p>
<p>Using what we already know about Markdown, we <em>could</em> write
these lists by ourselves. But this would be time-consuming and
inefficient: we would have to manually adjust these listings every time
we write a new post/start a new project/welcome a new team member to the
group. Instead, we will learn about two more features of Jekyll, <em>for
loops</em> and <em>collections</em>, which can be used to populate and
update lists within pages automatically.</p>
<section id="list-parameters-and-for-loops"><h2 class="section-heading">List Parameters and For Loops<a class="anchor" aria-label="anchor" href="#list-parameters-and-for-loops"></a>
</h2>
<hr class="half-width"><p>In addition to the single-value variable types we are already
familiar with, YAML lets us define <a href="https://glosario.carpentries.org/en/#list" class="external-link">lists</a> and <a href="https://glosario.carpentries.org/en/#dictionary" class="external-link">dictionaries</a>
too.</p>
<p>For example, we may want to list the names of all the team members
for a project, together with their roles and start dates, inside
<code>_config.yml</code> and make use of this information throughout the
website.</p>
<p>To do so in YAML notation would look like this:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">team_members</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Sarah Becker"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> </span><span class="st">"project lead"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2016-02-01"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Jane Smith"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> maintainer</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2018-03-15"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Albert Hamilton"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> editor</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2017-12-01"</span></span></code></pre>
</div>
<p>This defines <code>team_members</code> as a list of 3 elements; each
element is a dictionary with key-value pairs for name, role and date.
The syntax for lists in YAML can be a little hard to grasp at first
glance. Each entry in the list is marked by a <code>-</code>, indented
once to the right. After this, the content of the list item is described
on lines indented twice to the right, with pairs of keys and values. The
keys - <code>name</code>, <code>role</code>, and <code>start_date</code>
- are identical for all entries in the list but the values differ from
one team member to the next.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="yaml-syntax-is-flexible" class="callout-inner">
<h3 class="callout-title">YAML Syntax Is Flexible<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>When browsing documentation and examples of YAML you will sometimes
see lists represented slightly differently, with the first part of the
entry value written on the same line as the <code>-</code>, e.g.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">team_members</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Sarah Becker"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> </span><span class="st">"project lead"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2016-02-01"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Jane Smith"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> maintainer</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2018-03-15"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Albert Hamilton"</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> editor</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2017-12-01"</span></span></code></pre>
</div>
<p>This is also valid syntax and a little more compact, but we will
place <code>-</code> on its own line in this lesson as [that syntax is
described in the official YAML specification][yaml-lists].</p>
</div>
</div>
</div>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="indentation-in-yaml" class="callout-inner">
<h3 class="callout-title">Indentation in YAML<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>Note that indentation level in YAML is important - it can be a cause
of some not-so-obvious mistakes. Use online YAML code validators, such
as <a href="https://www.yamllint.com/" class="external-link">YAML Lint</a>, to make sure your
YAML is correctly formatted.</p>
</div>
</div>
</div>
<p>Now that the <code>site.team_members</code> variable has been
defined, we can insert it into any page on our site exactly as we have
done before. However, with list variables such as this, it is often
preferable to <em>iterate</em> through the values so that we can handle
and display each one individually. To do so we need a for loop, inside
which we can define what we want to do to to each of the list’s values.
In Liquid syntax, loops are created by surrounding the loop body in
<code>for</code>/<code>endfor</code> tags as:</p>
<pre class="source"><code>{% raw %}{% for thing in list %}
[ This is the loop body. Do something with the "thing" variable here. ]
{% endfor %}{% endraw %}</code></pre>
<p>Let’s use a loop to access the information about the team and display
it in <code>about.md</code>.</p>
<ol style="list-style-type: decimal"><li>Modify <code>_config.yml</code> file and add the
<code>team_members</code> parameter as defined above. The file should
now look like:</li>
</ol><div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"This is an example website built while learning how to use Jekyll and GitHub Pages."</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="st">"team@carpentries.org"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">twitter</span><span class="kw">:</span><span class="at"> </span><span class="st">"https://twitter.com/thecarpentries"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">team_members</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Sarah Becker"</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> </span><span class="st">"project lead"</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2016-02-01"</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Jane Smith"</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> maintainer</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2018-03-15"</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Albert Hamilton"</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> editor</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2017-12-01"</span></span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal"><li>In file <code>about.md</code>, add a new section for the team and
iterate over the values defined in parameter
<code>site.team_members</code> in a loop to display a table of the team
members’ names and roles. The file now should look like:</li>
</ol><div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>{% raw %}---</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>layout: page</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>title: About</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Project</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>{{ site.description }}</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">## Funders</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>We gratefully acknowledge funding from the XYZ Founding Council, under grant number 'abc'.</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">## Team</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>The following people are members of our research team:</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>{% for team_member in site.team_members %}</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>{{ team_member.name }}, role: {{ team_member.role }}</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>{% endfor %}</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="fu">## Cite us</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>You can cite the project as:</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    *The Carpentries 2019 Annual Report. Zenodo. https://doi.org/10.5281/zenodo.3840372*</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="at">{% endraw %}</span></span></code></pre>
</div>
<figure><img src="../fig/team_members_list.png" class="image-with-shadow figure mx-auto d-block" alt="Rendered team members list in the 'about.md' page" width="800"></figure></section><section id="filtering-a-list"><h2 class="section-heading">Filtering a List<a class="anchor" aria-label="anchor" href="#filtering-a-list"></a>
</h2>
<hr class="half-width"><p>What if we want to pull out the information for a specific team
member, e.g. the Lead of a particular project? To achieve this, we can
use another filter like the ones we saw in the previous episode: the
<code>where</code> filter creates a filtered list containing only those
items that fulfil the criteria provided. For example, to filter only the
project leads from the <code>team_members</code> list, we would write
the filter like this:</p>
<pre class="source"><code>{% raw %}{{ site.team_members | where:"role", "project lead" }}{% endraw %}</code></pre>
<p><code>where</code> returns a list, but we expect there will be only
one lead defined for each project, and in such cases the best way to
access this single value from the filtered list is with another filter,
<code>first</code>. This filter returns the first entry in whichever
list it is called on:</p>
<pre class="source"><code>{% raw %}{{ site.team_members | where:"role", "project lead" | first }}{% endraw %}</code></pre>
</section><section id="assigning-variables-within-a-page"><h2 class="section-heading">Assigning Variables Within a Page<a class="anchor" aria-label="anchor" href="#assigning-variables-within-a-page"></a>
</h2>
<hr class="half-width"><p>We are almost there! But how do we access only the value for
<code>name</code> within the list entry returned by our combination of
the <code>where</code> and <code>first</code> filters? We cannot do so
directly from the filtered list, but Liquid provides a way for us to
create a new variable from the value returned by those filters. For
this, we use the <code>assign</code> tag, e.g.</p>
<pre class="source"><code>{% raw %}{% assign lead = site.team_members | where:"role", "project lead" | first %}
{{ lead.name }}{% endraw %}</code></pre>
<p>Use this <code>assign</code> tag whenever you need to create
variables for use “on the fly” as you work with lists in your site. We
will see another example of this when we investigate collections in the
next section.</p>
<ol start="3" style="list-style-type: decimal"><li>In file <code>index.md</code> add the team lead’s name:</li>
</ol><div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># {% raw %}Building Websites in GitHub</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Description</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>{{ site.description }}</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>{% assign lead = site.team_members | where:"role", "project lead" | first %}</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>The project is led by {{ lead.name }}.</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">See our full team</span><span class="co">](about#team)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>Have any questions about what we do? <span class="co">[</span><span class="ot">We'd love to hear from you!</span><span class="co">](mailto:{{ site.email }}{% endraw %})</span></span></code></pre>
</div>
<p>Now, if we need to add, remove, or modify a team member, we only need
to update the list in <code>_config.yml</code> without editing the
individual pages of our site.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-personnel-changes" class="callout-inner">
<h3 class="callout-title">Exercise: Personnel Changes<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Your project team has changed. The team lead has left and in her
place is a new person: ‘Tom Cat’, who started on ‘2020-10-01’. In
addition, the team was expanded and a new developer called ‘Alice
Dauncey’ joined on ‘2020-09-15’. Update your website to reflect these
team changes.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Luckily, we keep all our global settings in <code>_config.yml</code>
so all we have to do is update the values there. This saved us some work
as for the team lead we would otherwise have to modify both
<code>index.md</code> and <code>about.md</code>.</p>
<p>For the new developer joining the team, we also only need to her
information to <code>team_members</code> in <code>_config.yml</code> and
our <code>for loop</code> from <code>about.md</code> will simply pick up
the changes automatically. Magic! Our <code>_config.yml</code> file
should now look like:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"This is an example website built while learning how to use Jekyll and GitHub Pages."</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="st">"team@carpentries.org"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">twitter</span><span class="kw">:</span><span class="at"> </span><span class="st">"https://twitter.com/thecarpentries"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">team_members</span><span class="kw">:</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Tom Cat"</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> </span><span class="st">"project lead"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2020-10-01"</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Jane Smith"</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> maintainer</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2018-03-15"</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Albert Hamilton"</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> editor</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2017-12-01"</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Alice Dauncey"</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">role</span><span class="kw">:</span><span class="at"> </span><span class="st">"developer"</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2020-09-15"</span></span></code></pre>
</div>
<p>Check the changes in your website.</p>
</div>
</div>
</div>
</div>
</section><section id="introducing-collections"><h2 class="section-heading">Introducing Collections<a class="anchor" aria-label="anchor" href="#introducing-collections"></a>
</h2>
<hr class="half-width"><p>To finish things off, we will combine what we have learned here about
lists and loops, with page layouts, filters, and the global
configuration of our site, to create a blog feed that automatically
updates whenever we create a new post.</p>
<p>In <a href="%7B%7B%20relative_root_path%20%7D%7D/filters/">the
<em>Working with Filters</em> episode</a> we created a few blog posts,
and would now like to display a list of these posts on a new page of the
site. For this to work, we must tell Jekyll that the source files for
these posts are related to each other i.e. that they all belong within a
category, blog posts, that the other pages we have made so far do not.
The mechanism Jekyll provides to do this is called a
<em>collection</em>: a defined set of files that should be accessible as
a set. Once we have defined this collection of blog posts, it will be
accessible to us as a list variable, which we can then loop through and
present in a variety of different ways on our site.</p>
</section><section id="configuring-a-collection"><h2 class="section-heading">Configuring a Collection<a class="anchor" aria-label="anchor" href="#configuring-a-collection"></a>
</h2>
<hr class="half-width"><p>Defining a collection requires us to do two things. First, we must
tell Jekyll about the collection by adding a new block to the global
configuration of the site. In <code>_config.yml</code>, we add the
following lines:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collections</span><span class="kw">:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">blogposts</span><span class="kw">:</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">output</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre>
</div>
<p>Unlike the list of values we created for <code>team_members</code>,
the <code>collections</code> configuration is a [<em>nested
mapping</em>][yaml-lists]: a set of key-value pairs where some of the
values are themselves a set of key-value pairs.</p>
<p>This mapping contains only one entry, with the key
<code>blogposts</code>, which is also a mapping that contains only one
entry, <code>output</code>. It is reasonable to find this confusing. You
might find that it makes (a little) more sense if you consider that we
may wish to define multiple collections for our site and configure them
each differently.</p>
<p>The key in the <code>collections</code> mapping,
<code>blogposts</code>, says that our site includes this collection of
files, and the mapping associated with <code>blogposts</code>,
<code>output: true</code>, configures an option for that collection,
telling Jekyll to create a rendered HTML page from the content of each
of these files.</p>
<p>Now that we have configured our site to build this collection, we
need to populate it. Jekyll will look for a folder in our site
repository that shares its name with the collection we defined, but with
a preceding underscore in the folder name, and build the collection from
its contents. In this case, we need to move all our blog post files into
a <code>_blogposts</code> folder.</p>
<p>Once we have done that, we can check that the collection has been
created correctly by trying to use it in a page.</p>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-output-true" class="callout-inner">
<h3 class="callout-title">Why <code>output: true</code>?<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>When creating our <code>blogposts</code> collection in
<code>_config.yml</code> above, we configured it with the parameter
<code>output: true</code>, to ensure the pages of the collection were
rendered to HTML by Jekyll.</p>
<p>The other use of collections is as a collection of “data” files,
defining objects that can be used as a list of variables throughout the
site. For example, to avoid swelling the <code>_config.yml</code> file
every time our team welcomes a new member, we could have created an
individual file for each of the members of our team, defined a
collection, and looped through those members that way. To use the
collection of files like this, we would keep the default value of
<code>output</code>, <code>false</code>.</p>
</div>
</div>
</div>
</section><section id="looping-over-a-collection"><h2 class="section-heading">Looping Over a Collection<a class="anchor" aria-label="anchor" href="#looping-over-a-collection"></a>
</h2>
<hr class="half-width"><p>At the end of your <code>index.md</code>, add a new for loop to
iterate over the titles and dates of the <code>blogposts</code>
collection:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Blog Posts</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>{% raw %}{% for post in site.blogposts %}</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>{{ post.date | date_to_string }}: <span class="co">[</span><span class="ot">{{ post.title }}</span><span class="co">]({{ post.url | relative_url }})</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>{% endfor %}{% endraw %}</span></code></pre>
</div>
<figure><img src="../fig/blog_posts_list.png" class="image-with-shadow figure mx-auto d-block" alt="Rendered blog post list in the index page" width="800"></figure><p>There is a lot happening in those few lines above! Let’s break it
down into smaller chunks and explore them one-by-one:</p>
<ol style="list-style-type: decimal"><li>
<code>{% raw %}{% for post in site.blogposts %}{% endraw %}</code>
initialises a loop through the collection. The collection itself is made
available to us as a <code>site</code> variable, with the name we gave
it in <code>_config.yml</code>.</li>
<li>
<code>-</code> will create a bullet point for each post.</li>
<li>
<code>{% raw %}{{ post.date | date_to_string }}{% endraw %}</code>
accesses the <code>date</code> defined in the post’s YAML header and
displays it in the list as a string.</li>
<li>
<code>{% raw %}[{{ post.title }}]({{ post.url | relative_url }}){% endraw %}</code>
creates a link with the post’s title (again extracted from the YAML
header of the post file) as the link text, and the URL of the rendered
post page as the link target. Unlike the page title, the URL is not
defined in the page front matter but instead provided by Jekyll. This
page URL is passed to the <code>relative_url</code> filter, which
ensures the base URL of the GitHub Pages site is prepended and the link
resolves correctly.</li>
<li>
<code>{% raw %}{% endfor %}{% endraw %}</code> ends the for loop
after every post in the collection (i.e. every file in the
<code>_blogposts</code> folder) has been iterated over.</li>
</ol><p>Clicking on one of these links takes us to the rendered version of
the blog post page.</p>
<p>What’s even better is that Jekyll has taken care of ordering the
posts according to their publication date: this is a special handling of
the <code>date</code> parameter - if it is present in the YAML header of
pages in a collection it will automatically be used to define the order
in which the collection is delivered in the site. If you would like to
order a collection by a different field in the YAML header, you can pass
the collection through the [<code>sort</code>][liquid-sort] filter when
initialising the for loop.</p>
<p>You might be tempted to write:</p>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>{% raw %}{% for post in site.blogposts | sort: "author" %}{% endraw %}</code></pre>
</div>
<p>which seems to work but may not produce the result we expect.</p>
<p>In fact, Jekyll will generate a <strong>silent warning</strong> that
isn’t visible in GitHub but can be seen if building the site locally.
This a limitation of Liquid in that it doesn’t allow combining
<code>for</code> instructions directly with filters. Instead, we need to
reuse the <code>assign</code> instruction we used above:</p>
<pre class="source"><code>{% raw %}{% assign sorted_posts = site.blogposts | sort: "author" %}
{% for post in sorted_posts %}{% endraw %}</code></pre>
<p>Other filters also exist for working with lists of values, such as
[<code>group_by</code>][liquid-group-by], which can be used to group the
values by a particular field, and [<code>sample</code>][liquid-sample],
which returns a random sample of the values in the list.</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-adding-the-post-author" class="callout-inner">
<h3 class="callout-title">Exercise: Adding the Post Author<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Extend the example above to also state the name of the author next to
each post in the list.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<pre class="source"><code>{% raw %}{% for post in site.blogposts %}
- {{ post.date | date_to_string }}: [{{ post.title }}]({{ post.url }}) by {{ post.author }}
{% endfor %}{% endraw %}</code></pre>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-reusable-post-list" class="callout-inner">
<h3 class="callout-title">Exercise: Reusable Post List<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>A list of blog posts is exactly the kind of component we are likely
to want to use in multiple places throughout the site. Move the code to
create the listing to a new file in the <code>_includes</code> folder,
modify it to work as an included block, and <code>include</code> it
again the end of <code>index.md</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Create a new file, <code>_includes/post_list.html</code>, with the
following content:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">HTML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode html" tabindex="0"><code class="sourceCode html"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;h2&gt;</span>Blog Posts<span class="kw">&lt;/h2&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>{% raw %}{% for post in site.posts %}</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;li&gt;</span>{{ post.date | date_to_string }}: <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"{{ post.url | relative_url }}"</span><span class="kw">&gt;</span>{{ post.title }}<span class="kw">&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>{% endfor %}{% endraw %}</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre>
</div>
<p>and add an <code>include</code> statement at the end of
<code>index.md</code>:</p>
<pre class="source"><code>{% raw %}{% include post_list.html %}{% endraw %}</code></pre>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-extend-the-collection" class="callout-inner">
<h3 class="callout-title">Exercise: Extend the Collection<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>Create another blog post and add it to the <code>blogposts</code>
collection. Check that your new post appears in the list.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Write another post Markdown file and save it into the
<code>_blogposts</code> folder, making sure you remember to add (at
least) the <code>date</code> and <code>title</code> fields in the YAML
header.</p>
<p>A link to the rendered version of that file should automatically
appear in the blog post list of your site’s landing page
(<code>index.html</code>).</p>
</div>
</div>
</div>
</div>
</section><section id="blogging-in-the-wild-the-_posts-collection"><h2 class="section-heading">Blogging in the Wild: the <code>_posts</code> Collection<a class="anchor" aria-label="anchor" href="#blogging-in-the-wild-the-_posts-collection"></a>
</h2>
<hr class="half-width"><p>We named our collection <code>blogposts</code> above but it is much
more common to find Jekyll sites using a collection called
<code>posts</code> (and associated <code>_posts</code> folder for blog
post files). The <code>posts</code> collection has a special meaning to
Jekyll: the platform is so often used for blogging that it has some
“magic” built in to work with the files in <code>_posts</code>.</p>
<p>One of the key differences is the way that URLs are created for pages
built from the <code>posts</code> collection: the
<code>YYYY-MM-DD</code> date string defining the date of the post is
used to create a nested URL structure of <code>/YYYY/MM/DD/</code>. For
this reason, _Jekyll requires that files in the <code>posts</code>
collection follow the naming structure
<code>YYYY-MM-DD-post-slug.md</code> in order to be built for the site.
For example, a file in <code>posts</code> called
<code>2019-09-04-rise-and-shine.md</code> will be published at the URL
<code>&lt;site-url&gt;/2019/09/04/rise-and-shine.html</code>.</p>
<p>Jekyll also provides some other special features for working with a
collection called <code>posts</code>, such as tags and categories to
help organise the pages of your site. You can read more about the <a href="https://jekyllrb.com/docs/posts/" class="external-link">features of the
<code>posts</code> collection in the associated page of the Jekyll
documentation</a>.</p>
<p>Finally, it is common to need to create a listing of posts (or some
other collection) that is displayed in smaller chunks e.g. ten posts at
a time. This is called <em>pagination</em>, and is enabled in Jekyll via
a plugin called <code>jekyll-paginate</code>. (This plugin is included
by default in GitHub Pages.) The Jekyll documentation describes <a href="https://jekyllrb.com/docs/pagination/" class="external-link">the steps for setting up
pagination for a list of blog posts</a>.</p>
</section><section id="linking-to-other-pages-on-your-site"><h2 class="section-heading">Linking to Other Pages on Your Site<a class="anchor" aria-label="anchor" href="#linking-to-other-pages-on-your-site"></a>
</h2>
<hr class="half-width"><p>Creating internal links that are robust to changes in your site base
URL, and that work both online and in locally-built preview versions of
your site, requires a bit of extra work.</p>
<p>You can access the URL of a built page via the <code>page.url</code>
variable (as we did when listing the entries in our
<code>blogposts</code> collection above) or, if referring to that page
from the body of another page, with the
<code>{% raw %}{% link &lt;path_to_post_file&gt; %}{% endraw %}</code>
tag. The path provided here should be relative to the root of your site
- the directory where your <code>config.yml</code> is located. Taking
the example from the <code>posts</code> collection above:</p>
<pre class="source"><code>{% raw %}{% link _posts/2019-09-04-rise-and-shine.md %}{% endraw %}</code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/2019/09/04/rise-and-shine.html</code></pre>
</div>
<p>If you would like to [set up your computer to build your site
locally][jekyll-install] e.g. to preview changes to your site before
they “go live” on GitHub Pages, you should get into the habit of
substituting in the <code>site.baseurl</code> variable at the start of
these internal links:</p>
<pre class="source"><code>{% raw %}{{ site.baseurl }}{% link _posts/2019-09-04-rise-and-shine.md %}{% endraw %}</code></pre>
<p>This will ensure that the links within your site work correctly in
the local version of the site as well as on GitHub Pages.</p>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="comments-on-a-static-blog" class="callout-inner">
<h3 class="callout-title">Comments on a Static Blog<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<p>When setting up a blog on a website, it is common to want to include
a comment feed as a way for readers to respond to the content of a post,
direct questions to the author, etc. A comments section can be included
in a static blog using one of the below approaches.</p>
<ol style="list-style-type: decimal"><li>Disqus is the first approach. The Disqus website offers <a href="https://disqus.com/admin/install/platforms/jekyll/" class="external-link">instructions
on how to enable comments for Jekyll platform (used for GitHub
pages)</a>. <a href="https://erresen.github.io/jekyll/disqus/2016/08/26/getting-comments-working-jekyll-disqus.html" class="external-link">Here
is a demo of Disqus with Jekyll</a>. Although if you are privacy
inclined, browser extensions such as Privacy Badger block the Disqus
widget so you might look for alternatives.</li>
<li>
<a href="https://staticman.net/" class="external-link">Staticman</a> is the second
approach. The setup is more complex than some of the other options and,
in our experience, it is easy to get the configuration wrong. <a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html" class="external-link">Here
is a demo of comments with Staticman</a>.</li>
<li>
<a href="https://just-comments.com/" class="external-link">Just Comments</a> is the third
approach. <a href="https://60devs.com/adding-comments-to-your-jekyll-blog.html" class="external-link">Here
is a demo of comments with Just Comments</a>.</li>
<li>
<a href="https://github.com/fastai/fastpages" class="external-link">fastpages</a> is the
most recent addition to enable comments via GitHub comments (uses <a href="https://utteranc.es/" class="external-link">Utterances</a>). fastpages comes with lots
of options and is used by several researchers. <a href="https://fastpages.fast.ai/fastpages/jupyter/2020/02/21/introducing-fastpages.html" class="external-link">Here
is a demo of comments with fastpages</a>.</li>
<li>
<a href="https://welcomments.io/" class="external-link">Welcomments</a> (currently in beta
testing) provides a webform for comments, and a bot that commits these
to your website’s source GitHub repository so that they are included and
displayed when the page is rebuilt. From the comments section
implementation standpoint, Disqus looks most simple followed by Just
Comments and Staticman. Fastpages is much more than enabling a comments
section. It is a blog template that uses Jekyll as a base, improves on
Jekyll experience and offers additional features. For researchers this
may be the option to go.</li>
</ol></div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Iterate over multiple values in a list with a for loop.</li>
<li>Collections are defined in a site’s global configuration and
populated in a corresponding folder.</li>
<li>Collections are presented by Jekyll as a list of page objects.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/filters.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/wrap-up.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/filters.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Working With Filters</a>
        <a class="chapter-link float-end" href="../instructor/wrap-up.html" rel="next">Next: Wrap-up... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/fishtree-attempt/jekyll-pages-novice/edit/main/episodes/arrays.md" class="external-link">Edit on GitHub</a>
        
        
        
        | <a href="https://github.com/fishtree-attempt/jekyll-pages-novice/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://github.com/fishtree-attempt/jekyll-pages-novice/" class="external-link">Source</a></p>
				<p><a href="https://github.com/fishtree-attempt/jekyll-pages-novice/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:tobyhodges@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="../LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.11.3" class="external-link">sandpaper (0.11.3)</a>,
        <a href="https://github.com/carpentries/pegboard/tree/0.4.1" class="external-link">pegboard (0.4.1)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.2.13" class="external-link">varnish (0.2.13)</a>.</p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://preview.carpentries.org/jekyll-pages-novice/instructor/arrays.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Loops and Collections",
  "creativeWorkStatus": "active",
  "url": "https://preview.carpentries.org/jekyll-pages-novice/instructor/arrays.html",
  "identifier": "https://preview.carpentries.org/jekyll-pages-novice/instructor/arrays.html",
  "dateCreated": "2022-11-15",
  "dateModified": "2022-11-15",
  "datePublished": "2023-01-10"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

